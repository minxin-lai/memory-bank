# AI Agent 工作规范

## 读取顺序
1. RULES.md (本文件)
2. 01-PROJECT.md (项目上下文)
3. 02-TASK.md (任务目标)
4. 03-PLAN.md (执行计划)

---

## 执行契约

- **单步执行**: 每次只执行 PLAN.md 中的一个 step
- **验证门控**: 完成后提供验证 → 等用户确认 → 更新 PLAN.md
- **禁止跳步**: 不得跳过或并行执行 step

---

## 编码规范

- **胶水分离**: Entry point 只做 wiring，核心逻辑模块化
- **最小增量**: 一个 step = 一次可验证的增量
- **避免发散**: 不做当前 step 以外的重构

---

## 验证要求

- 每个 step 需要验证产物 (测试输出/日志/截图)
- 功能变更需构造输入进行本地验证
- 验证通过后，用户确认才能继续

---

## 代码质量

- 清晰简洁，不增加不必要的代码
- 显式接口 (dataclass/typed dict)
- 结构化日志 (JSONL/CSV 用于 benchmark)
